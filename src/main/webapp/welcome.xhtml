<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:b="http://butterfaces.larmic.de/components"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:mc="http://xmlns.jcp.org/jsf/composite/components"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
<ui:composition template="/WEB-INF/templates/view.xhtml">
    <ui:define name="title">welcome to LogicNet</ui:define>

    <ui:define name="content">
        <div class="jumbotron">
            <div class="container">
                <h1>Logic Net</h1>

                <p>Social network based on your interests without spam.</p>

                <p>
                    <a class="btn btn-primary btn-lg" href="#register" role="button" data-toggle="tab">Register Now</a>
                    <a class="btn btn-success btn-lg" href="user/stream.xhtml" role="button">Connect</a>
                </p>
            </div>
        </div>

        <div class="container">
            <div class="tab-content">
                <div id="spotlight" class="tab-pane fade in active">

                    <h1>Trending Now</h1>

                    <c:forEach items="#{trendingService.trending}" var="post">
                        <mc:post date="#{post.dateTime}" body="#{post.content}" />
                    </c:forEach>

                </div>

                <div id="register" class="tab-pane fade">
                    <h:form id="registerForm" method="post" enctype="multipart/form-data">
                        <b:text id="real_name" value="#{registerBean.realName}" label="Real name" required="true" autoFocus="true" />

                        <b:text id="nickname" value="#{registerBean.nickname}" label="Nickname" required="true">
                            <b:tooltip>
                                Will be used for login. It must be unique.
                            </b:tooltip>
                            <f:validator binding="#{nicknameValidator}" />
                        </b:text>

                        <b:calendar id="birthday" pickTime="false" value="#{registerBean.birthday}" label="Birthdate" />

                        <b:section label="Password">
                            <h:inputSecret id="password" value="#{registerBean.password}" label="Password" required="true" />
                            <h:inputSecret value="" validator="#{samePasswordValidator.validate}" />
                        </b:section>

                        <b:section label="Profile picture">
                            <h:inputFile id="profile_picture" styleClass="btn btn-default" value="#{registerBean.picture}" required="true" />
                        </b:section>

                        <h:commandButton actionListener="#{registerBean.register}" value="Submit" />
                    </h:form>
                </div>
            </div>
        </div>
    </ui:define>
</ui:composition>
</html>
