<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:mc="http://xmlns.jcp.org/jsf/composite/components"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:h="http://java.sun.com/jsf/html">
<ui:composition template="/WEB-INF/templates/view-full.xhtml">
    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam name="page" value="#{streamModel.page}" required="false"/>
            <f:event type="preRenderView" listener="#{streamController.update}"/>
        </f:metadata>
    </ui:define>

    <ui:define name="title">LogicNet private space</ui:define>

    <ui:define name="header">
        <c:set scope="session" value="#{userController.username}" var="lastUser"/>
        <c:set scope="session" value="true" var="knownUser"/>

        <div id="logout-modal" class="modal fade" tabindex="-1" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">x</button>
                        <h4 class="modal-title">Dear #{userController.username}, do you really want to logout?</h4>
                    </div>
                    <div class="modal-body">
                        <p>Your session will be lost.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <a href="/logout">
                            <button type="button" class="btn btn-primary">logout</button>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                            aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"/>
                        <span class="icon-bar"/>
                        <span class="icon-bar"/>
                    </button>
                    <a class="navbar-brand" href="#">
                        <span class="glyphicon glyphicon-book" aria-hidden="true"/>
                        LogicNet
                    </a>
                </div>
                <div id="navbar" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li class="bg-success">
                            <a href="#" data-toggle="modal" data-target="#logout-modal">logout</a>
                        </li>
                        <li class="bg-success"><h:link value="stream" outcome="public"/></li>
                    </ul>
                </div>
            </div>
        </nav>
    </ui:define>

    <ui:define name="content">

        <div class="page-header">
            <div class="input-group col-md-12">
                <input id="post-input" type="text" class="search-query form-control"
                       placeholder="Share something interesting."/>
                    <span class="input-group-btn">
                        <button id="post-button" class="btn btn-success" type="button">
                            <span class="glyphicon glyphicon-flag"/>
                        </button>
                    </span>
            </div>
        </div>

        <mc:bs-message/>

        <c:forEach items="#{userController.incommingFriends}" var="account">
            <div class="alert alert-info" role="alert">
                #{account.name} has sent you a friend request.
                <a href="#" class="alert-link accept-friend" data-target="#{account.id}">accept?</a>
            </div>
        </c:forEach>


        <div class="row">
            <div class="col-md-2">
                <ul class="nav nav-pills nav-stacked">
                    <li class="active"><a href="#me" data-toggle="tab">Mark Zuckerberg</a></li>
                    <li><a href="#8784" data-toggle="tab">Kathy</a></li>
                    <li><a href="#9595" data-toggle="tab">Bill</a></li>
                    <li><a href="#8487" data-toggle="tab">Meggy</a></li>
                    <li><a href="#2154" data-toggle="tab">Bob</a></li>
                </ul>
            </div>
            <div class="col-md-6">
                <div class="tab-content">
                    <div id="me" class="tab-pane fade in active">

                        <div class="panel panel-default">
                            <div class="panel-body">
                                Lorem ipsum dolor sit amet.
                            </div>
                            <div class="panel-footer">
                                <button class="btn btn-success" type="button">
                                    <span class="glyphicon glyphicon-heart"/>
                                </button>
                                Published on 12/09/2015, near Pilsen
                            </div>
                        </div>

                        <div class="panel panel-default">
                            <div class="panel-body">
                                Lorem ipsum dolor sit amet.
                            </div>
                            <div class="panel-footer">
                                <button class="btn btn-success" type="button">
                                    <span class="glyphicon glyphicon-heart"/>
                                </button>
                                Published on 12/09/2015, near Pilsen
                            </div>
                        </div>

                    </div>
                    <div id="8784" class="tab-pane fade">

                        <div class="panel panel-default">
                            <div class="panel-body">
                                Příliš žluťoučký kůň úpěl ďábelské ódy.
                            </div>
                            <div class="panel-footer">
                                <button class="btn btn-success" type="button">
                                    <span class="glyphicon glyphicon-heart"></span>
                                </button>
                                Published on 12/09/2015, near Pilsen
                            </div>
                        </div>

                    </div>
                    <div id="9595" class="tab-pane fade">

                        <div class="panel panel-default">
                            <div class="panel-body">
                                Another panel. It's boring having just static page!
                            </div>
                            <div class="panel-footer">
                                <button class="btn btn-success" type="button">
                                    <span class="glyphicon glyphicon-heart"></span>
                                </button>
                                Published on 12/09/2015, near Pilsen
                            </div>
                        </div>

                    </div>
                    <div id="8487" class="tab-pane fade">
                        <p>This user haven't shared anything.</p>
                    </div>
                    <div id="2154" class="tab-pane fade">

                        <div class="panel panel-default">
                            <div class="panel-body">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc euismod turpis quis rutrum faucibus. Proin rutrum nisi ut vehicula mattis. Donec luctus odio in lectus faucibus, nec aliquam nunc fermentum. Vivamus sollicitudin porta dignissim. Nam et mollis augue, in convallis velit. Praesent id tempor nulla. Donec consequat luctus lectus in tempor. Mauris eget dui interdum, feugiat mi vel, dignissim eros. Sed congue erat eu leo tempor, a lobortis nisi maximus.
                            </div>
                            <div class="panel-footer">
                                <button class="btn btn-success" type="button">
                                    <span class="glyphicon glyphicon-heart"></span>
                                </button>
                                Published on 12/09/2015, near Pilsen
                            </div>
                        </div>

                        <div class="panel panel-default">
                            <div class="panel-body">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc euismod turpis quis rutrum faucibus. Proin rutrum nisi ut vehicula mattis. Donec luctus odio in lectus faucibus, nec aliquam nunc fermentum. Vivamus sollicitudin porta dignissim. Nam et mollis augue, in convallis velit. Praesent id tempor nulla. Donec consequat luctus lectus in tempor. Mauris eget dui interdum, feugiat mi vel, dignissim eros. Sed congue erat eu leo tempor, a lobortis nisi maximus.
                            </div>
                            <div class="panel-footer">
                                <button class="btn btn-success" type="button">
                                    <span class="glyphicon glyphicon-heart"></span>
                                </button>
                                Published on 12/09/2015, near Pilsen
                            </div>
                        </div>

                        <div class="panel panel-default">
                            <div class="panel-body">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc euismod turpis quis rutrum faucibus. Proin rutrum nisi ut vehicula mattis. Donec luctus odio in lectus faucibus, nec aliquam nunc fermentum. Vivamus sollicitudin porta dignissim. Nam et mollis augue, in convallis velit. Praesent id tempor nulla. Donec consequat luctus lectus in tempor. Mauris eget dui interdum, feugiat mi vel, dignissim eros. Sed congue erat eu leo tempor, a lobortis nisi maximus.
                            </div>
                            <div class="panel-footer">
                                <button class="btn btn-success" type="button">
                                    <span class="glyphicon glyphicon-heart"></span>
                                </button>
                                Published on 12/09/2015, near Pilsen
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <h2>Mark Zuckerberg</h2>
                <img src="/images/de763016-2ffa-409b-916a-5fa40efb9a21.png" width="160" alt="profile picture" />
                <p>
                    Bio, bio. Some nice introduction about me.
                </p>
            </div>
        </div>

    </ui:define>

    <ui:define name="footer">
        <footer class="footer">
            <div class="container">
                <p class="text-muted">Copyleft 2016 Zdeněk Janeček.</p>
            </div>
        </footer>
    </ui:define>
</ui:composition>
</html>
